<html lang="en">
    {% include "header.html" %}
    <body>
        {% include "navbar.html" %}
        <main class="container-fluid">
            <div class="d-flex h-75 justify-content-center min-vh-100">
                <div class="card align-self-center bg-light border-light">
                    <div class="card-body mx-5">
                        <h3 class="fw-bold mb-4 pt-2 text-center">Login</h3>
                        
                        <!-- Flash Messages -->
                        {% with messages = get_flashed_messages(with_categories=true) %}
                            {% if messages %}
                                {% for category, message in messages %}
                                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                                        {{ message }}
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                    </div>
                                {% endfor %}
                            {% endif %}
                        {% endwith %}

                        <form method="POST">
                            <!--Email Input-->
                            <div class="form-group mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input 
                                    class="form-control {% if error %}is-invalid{% endif %}" 
                                    name="email" 
                                    type="email" 
                                    id="email" 
                                    maxlength="45" 
                                    required 
                                    placeholder="Enter your email"
                                    value="{{ request.form.email }}"
                                >
                            </div>
                            
                            <!--Password Input-->
                            <div class="form-group mb-4">
                                <label for="pwd" class="form-label">Password</label>
                                <input 
                                    class="form-control {% if error %}is-invalid{% endif %}" 
                                    name="password" 
                                    type="password" 
                                    id="pwd" 
                                    minlength="8" 
                                    required 
                                    placeholder="Enter your password"
                                >
                            </div>
                            
                            <!--Submit button-->
                            <button type="submit" class="btn btn-dark btn-block mb-4 w-100">Login</button>

                            <p class="text-center">
                                Not a member yet? <br class="d-md-none d-lg-none" />Register <a href="register">here</a>.
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </main>
        {% include "footer.html" %}

        <!-- Add Bootstrap JavaScript and Popper.js -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    </body>
</html>